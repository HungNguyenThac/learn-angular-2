openapi: 3.0.1
info:
  title: OpenAPI definition
  version: v0
servers:
- url: http://localhost:8004
  description: Generated server url
paths:
  /v1/promotion/voucher/validate:
    post:
      tags:
      - promotion-controller
      operationId: validateVoucher
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckValidVoucherRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseVoucherTransaction'
  /v1/promotion/update-promotion-event:
    post:
      tags:
      - promotion-controller
      operationId: createPromotionEvent
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePromotionEventRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseString'
  /v1/promotion/create-voucher:
    post:
      tags:
      - promotion-controller
      operationId: createVoucher
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVoucherRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseVoucher'
  /v1/promotion/create-promotion-event:
    post:
      tags:
      - promotion-controller
      operationId: updatePromotionEvent
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePromotionEventRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseString'
  /v1/payday/{loanId}/update-loan:
    post:
      tags:
      - payday-loan-controller
      operationId: updateInfo
      parameters:
      - name: loanId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateLoanRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/payday/{loanId}/change-status:
    post:
      tags:
      - payday-loan-controller
      operationId: changeLoanStatus
      parameters:
      - name: loanId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateLoanStatusRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/payday/get-service-token:
    post:
      tags:
      - payday-loan-controller
      operationId: getServiceToken
      responses:
        "200":
          description: OK
  /v1/payday/cronjob/withdraw-loan:
    post:
      tags:
      - payday-loan-controller
      operationId: withdraw
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/payday/cronjob/notify-loan-inrepayment:
    post:
      tags:
      - payday-loan-controller
      operationId: notifyInRepaymentLoan
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/payday/cronjob/notify-before-get-salary:
    post:
      tags:
      - payday-loan-controller
      operationId: notifyBeforeGetSalary
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/payday/create-application:
    post:
      tags:
      - payday-loan-controller
      operationId: createAccount
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateApplicationRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponse'
  /v1/{customerId}/all-loan:
    get:
      tags:
      - application-controller
      operationId: getAllPaydayLoan
      parameters:
      - name: customerId
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/{customerId}/active-loan:
    get:
      tags:
      - application-controller
      operationId: getActivePaydayLoan
      parameters:
      - name: customerId
        in: path
        required: true
        schema:
          type: string
      - name: coreToken
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/promotion/voucher:
    get:
      tags:
      - promotion-controller
      operationId: createVoucher_1
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseListVoucher'
  /v1/promotion/voucher/detail:
    get:
      tags:
      - promotion-controller
      operationId: voucherDetail
      parameters:
      - name: voucherCode
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseVoucher'
  /v1/promotion/all-event:
    get:
      tags:
      - promotion-controller
      operationId: getAllPromotionEvent
      parameters:
      - name: request
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/CreatePromotionEventRequest'
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseListPromotionEvent'
  /v1/payday/{customerId}/get-loan:
    get:
      tags:
      - payday-loan-controller
      operationId: getLoan
      parameters:
      - name: customerId
        in: path
        required: true
        schema:
          type: string
      - name: loanId
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/payday/{customerId}/get-active-loan:
    get:
      tags:
      - payday-loan-controller
      operationId: getActivePaydayLoan_1
      parameters:
      - name: customerId
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/payday/status:
    get:
      tags:
      - payday-loan-controller
      operationId: getLoanByStatus
      parameters:
      - name: status
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/contract/detail:
    get:
      tags:
      - contract-controller
      operationId: getActivePaydayLoan_2
      parameters:
      - name: loanId
        in: query
        required: true
        schema:
          type: string
      - name: customerId
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
components:
  schemas:
    CheckValidVoucherRequest:
      type: object
      properties:
        customerId:
          type: string
        voucherCode:
          type: string
    ApiResponseVoucherTransaction:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/VoucherTransaction'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    VoucherTransaction:
      type: object
      properties:
        id:
          type: string
        voucherId:
          type: string
        customerId:
          type: string
        loanId:
          type: string
        discountValue:
          type: integer
          format: int32
        createdAt:
          type: string
    UpdatePromotionEventRequest:
      type: object
      properties:
        adminId:
          type: string
        id:
          type: string
        purpose:
          type: string
        expiredAt:
          type: string
    ApiResponseString:
      type: object
      properties:
        result:
          type: string
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    CreateVoucherRequest:
      type: object
      properties:
        adminId:
          type: string
        promotionEventId:
          type: string
        voucherCode:
          type: string
        maxDiscount:
          type: integer
          format: int32
        percentageDiscount:
          type: number
          format: float
        description:
          type: string
        maxAmount:
          type: integer
          format: int32
        activedTime:
          type: array
          items:
            type: string
    ApiResponseVoucher:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/Voucher'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    Voucher:
      type: object
      properties:
        id:
          type: string
        promotionEventId:
          type: string
        code:
          type: string
        maxValue:
          type: integer
          format: int32
        percentage:
          type: number
          format: float
        maxAmount:
          type: integer
          format: int32
        remainAmount:
          type: integer
          format: int32
        activedTime:
          type: array
          items:
            type: string
        description:
          type: string
        createdAt:
          type: string
    CreatePromotionEventRequest:
      type: object
      properties:
        adminId:
          type: string
        purpose:
          type: string
        expiredAt:
          type: string
    UpdateLoanRequest:
      type: object
      properties:
        customerId:
          type: string
        updateInfo:
          type: object
          additionalProperties:
            type: object
    ApiResponseObject:
      type: object
      properties:
        result:
          type: object
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    UpdateLoanStatusRequest:
      type: object
      properties:
        customerId:
          type: string
        status:
          type: string
    CreateApplicationRequest:
      required:
      - coreToken
      - customerId
      - expectedAmount
      type: object
      properties:
        coreToken:
          type: string
        customerId:
          type: string
        expectedAmount:
          type: integer
          format: int32
        purpose:
          type: string
        voucherTransaction:
          $ref: '#/components/schemas/VoucherTransaction'
    ApiResponse:
      type: object
      properties:
        result:
          type: object
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    ApiResponseListVoucher:
      type: object
      properties:
        result:
          type: array
          items:
            $ref: '#/components/schemas/Voucher'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    ApiResponseListPromotionEvent:
      type: object
      properties:
        result:
          type: array
          items:
            $ref: '#/components/schemas/PromotionEvent'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    PromotionEvent:
      type: object
      properties:
        id:
          type: string
        purpose:
          type: string
        createdBy:
          type: string
        createdAt:
          type: string
        expiredAt:
          type: string
  securitySchemes:
    Bearer:
      type: apiKey
      name: Authorization
      in: header
      scheme: bearer
      bearerFormat: JWT
