openapi: 3.0.1
info:
  title: OpenAPI definition
  version: v0
servers:
- url: http://localhost:8004
  description: Generated server url
paths:
  /v1/promotion/voucher/validate:
    post:
      tags:
      - promotion-controller
      operationId: validateVoucher
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckValidVoucherRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseVoucherTransaction'
  /v1/promotion/voucher/update:
    post:
      tags:
      - promotion-controller
      operationId: updateVoucher
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateVoucherRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseVoucher'
  /v1/promotion/voucher/transaction/create:
    post:
      tags:
      - promotion-controller
      operationId: createTransaction
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckValidVoucherRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseVoucherTransaction'
  /v1/promotion/voucher/create:
    post:
      tags:
      - promotion-controller
      operationId: createVoucher
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVoucherRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseVoucher'
  /v1/promotion/update-promotion-event:
    post:
      tags:
      - promotion-controller
      operationId: updatePromotionEvent
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePromotionEventRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponsePromotionEvent'
  /v1/promotion/create-promotion-event:
    post:
      tags:
      - promotion-controller
      operationId: createPromotionEvent
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePromotionEventRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponsePromotionEvent'
  /v1/payday/{loanId}/update-loan:
    post:
      tags:
      - payday-loan-controller
      operationId: updateInfo
      parameters:
      - name: loanId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateLoanRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseObject'
  /v1/payday/{loanId}/change-status:
    post:
      tags:
      - payday-loan-controller
      operationId: changeLoanStatus
      parameters:
      - name: loanId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateLoanStatusRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseString'
  /v1/payday/get-service-token:
    post:
      tags:
      - payday-loan-controller
      operationId: getServiceToken
      responses:
        "200":
          description: OK
  /v1/payday/cronjob/withdraw-loan:
    post:
      tags:
      - payday-loan-controller
      operationId: withdraw
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseString'
  /v1/payday/cronjob/overdue:
    post:
      tags:
      - payday-loan-controller
      operationId: setLoanOverdue
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseString'
  /v1/payday/cronjob/notify-before-get-salary:
    post:
      tags:
      - payday-loan-controller
      operationId: notifyBeforeGetSalary
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseString'
  /v1/payday/create-application:
    post:
      tags:
      - payday-loan-controller
      operationId: createAccount
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateApplicationRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseApplyResponse'
  /v1/{customerId}/all-loan:
    get:
      tags:
      - application-controller
      operationId: getAllPaydayLoan
      parameters:
      - name: customerId
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseListPaydayLoan'
  /v1/{customerId}/active-loan:
    get:
      tags:
      - application-controller
      operationId: getActivePaydayLoan
      parameters:
      - name: customerId
        in: path
        required: true
        schema:
          type: string
      - name: coreToken
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponsePaydayLoan'
  /v1/promotion/voucher/list:
    get:
      tags:
      - promotion-controller
      operationId: getVoucherByScopeEvent
      parameters:
      - name: customerId
        in: query
        required: true
        schema:
          type: string
      - name: eventScope
        in: query
        required: true
        schema:
          type: string
      - name: voucherType
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseListVoucherDTO'
  /v1/promotion/voucher/detail:
    get:
      tags:
      - promotion-controller
      operationId: voucherDetail
      parameters:
      - name: voucherCode
        in: query
        required: true
        schema:
          type: string
      - name: customerId
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseVoucherDTO'
  /v1/promotion/all-event:
    get:
      tags:
      - promotion-controller
      operationId: getAllPromotionEvent
      parameters:
      - name: request
        in: query
        required: true
        schema:
          $ref: '#/components/schemas/CreatePromotionEventRequest'
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseListPromotionEvent'
  /v1/payday/{loanId}:
    get:
      tags:
      - payday-loan-controller
      operationId: changeLoanStatus_1
      parameters:
      - name: loanId
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponsePaydayLoan'
  /v1/payday/{customerId}/get-loan:
    get:
      tags:
      - payday-loan-controller
      operationId: getLoan
      parameters:
      - name: customerId
        in: path
        required: true
        schema:
          type: string
      - name: loanId
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponsePaydayLoan'
  /v1/payday/{customerId}/get-active-loan:
    get:
      tags:
      - payday-loan-controller
      operationId: getActivePaydayLoan_1
      parameters:
      - name: customerId
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponsePaydayLoan'
  /v1/payday/status:
    get:
      tags:
      - payday-loan-controller
      operationId: getLoanByStatus
      parameters:
      - name: status
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseListPaydayLoan'
  /v1/contract/detail:
    get:
      tags:
      - contract-controller
      operationId: getContractByLoanId
      parameters:
      - name: loanId
        in: query
        required: true
        schema:
          type: string
      - name: customerId
        in: query
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ApiResponseContract'
components:
  schemas:
    CheckValidVoucherRequest:
      required:
      - customerId
      - voucherCode
      type: object
      properties:
        customerId:
          type: string
        voucherCode:
          type: string
        isEvent:
          type: boolean
        mobileNumber:
          type: string
        mobileProvider:
          type: string
    ApiResponseVoucherTransaction:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/VoucherTransaction'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    VoucherTransaction:
      type: object
      properties:
        id:
          type: string
        voucherId:
          type: string
        customerId:
          type: string
        applicationId:
          type: string
        applicationType:
          type: string
        discountValue:
          type: integer
          format: int32
        status:
          type: string
        mobileNumber:
          type: string
        mobileProvider:
          type: string
        createdAt:
          type: string
    UpdateVoucherRequest:
      type: object
      properties:
        adminId:
          type: string
        id:
          type: string
        voucherCode:
          type: string
        description:
          type: string
        expiredAt:
          type: string
        type:
          type: string
        scope:
          type: string
        limitPerDay:
          type: integer
          format: int32
        maxAmount:
          type: integer
          format: int32
        remainAmount:
          type: integer
          format: int32
    ApiResponseVoucher:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/Voucher'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    Voucher:
      type: object
      properties:
        id:
          type: string
        promotionEventId:
          type: string
        code:
          type: string
        maxValue:
          type: integer
          format: int32
        percentage:
          type: number
          format: float
        maxAmount:
          type: integer
          format: int32
        remainAmount:
          type: integer
          format: int32
        activedTime:
          type: array
          items:
            type: string
        description:
          type: string
        type:
          type: string
        scope:
          type: string
        expiredAt:
          type: string
        limitPerDay:
          type: integer
          format: int32
        createdAt:
          type: string
    CreateVoucherRequest:
      type: object
      properties:
        adminId:
          type: string
        promotionEventId:
          type: string
        voucherCode:
          type: string
        maxDiscount:
          type: integer
          format: int32
        percentageDiscount:
          type: number
          format: float
        description:
          type: string
        expiredAt:
          type: string
        maxAmount:
          type: integer
          format: int32
        activedTime:
          type: array
          items:
            type: string
        type:
          type: string
        scope:
          type: string
        limitPerDay:
          type: integer
          format: int32
    UpdatePromotionEventRequest:
      type: object
      properties:
        adminId:
          type: string
        id:
          type: string
        purpose:
          type: string
        expiredAt:
          type: string
        scope:
          type: string
    ApiResponsePromotionEvent:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/PromotionEvent'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    PromotionEvent:
      type: object
      properties:
        id:
          type: string
        purpose:
          type: string
        scope:
          type: string
        createdAt:
          type: string
        expiredAt:
          type: string
    CreatePromotionEventRequest:
      type: object
      properties:
        adminId:
          type: string
        purpose:
          type: string
        expiredAt:
          type: string
        scope:
          type: string
    UpdateLoanRequest:
      type: object
      properties:
        customerId:
          type: string
        updateInfo:
          type: object
          additionalProperties:
            type: object
    ApiResponseObject:
      type: object
      properties:
        result:
          type: object
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    UpdateLoanStatusRequest:
      type: object
      properties:
        customerId:
          type: string
        status:
          type: string
    ApiResponseString:
      type: object
      properties:
        result:
          type: string
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    CreateApplicationRequest:
      required:
      - coreToken
      - customerId
      - expectedAmount
      type: object
      properties:
        coreToken:
          type: string
        customerId:
          type: string
        expectedAmount:
          type: integer
          format: int32
        purpose:
          type: string
        voucherTransactionId:
          type: string
    ApiResponseApplyResponse:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/ApplyResponse'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    ApplyResponse:
      type: object
      properties:
        code:
          type: string
        status:
          type: string
        message:
          type: string
        loanUuid:
          type: string
        loanAmount:
          type: string
        loanTenure:
          type: string
        epayCustomerId:
          type: string
        epayLoanId:
          type: string
    ApiResponseListPaydayLoan:
      type: object
      properties:
        result:
          type: array
          items:
            $ref: '#/components/schemas/PaydayLoan'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    PaydayLoan:
      type: object
      properties:
        id:
          type: string
        coreLoanUuid:
          type: string
        customerId:
          type: string
        expectedAmount:
          type: integer
          format: int32
        expectedTenure:
          type: integer
          format: int32
        actualAmount:
          type: integer
          format: int32
        status:
          type: string
        oldStatus:
          type: string
        appTypeUuid:
          type: string
        appType:
          type: string
        loanCode:
          type: string
        purpose:
          type: string
        voucherTransactionId:
          type: string
        repaymentStatus:
          type: string
        latePenaltyPayment:
          type: integer
          format: int32
        totalServiceFees:
          type: integer
          format: int32
        getSalaryAt:
          type: string
        createdAt:
          type: string
        updatedAt:
          type: string
        note:
          type: string
        personInChargeId:
          type: string
    ApiResponsePaydayLoan:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/PaydayLoan'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    ApiResponseListVoucherDTO:
      type: object
      properties:
        result:
          type: array
          items:
            $ref: '#/components/schemas/VoucherDTO'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    VoucherDTO:
      type: object
      properties:
        id:
          type: string
        code:
          type: string
        maxValue:
          type: integer
          format: int32
        percentage:
          type: number
          format: float
        maxAmount:
          type: integer
          format: int32
        remainAmount:
          type: integer
          format: int32
        activedTime:
          type: array
          items:
            type: string
        description:
          type: string
        type:
          type: string
        scope:
          type: string
        expiredAt:
          type: string
        limitPerDay:
          type: integer
          format: int32
        createdAt:
          type: string
        voucherTransactionList:
          type: array
          items:
            $ref: '#/components/schemas/VoucherTransaction'
    ApiResponseVoucherDTO:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/VoucherDTO'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    ApiResponseListPromotionEvent:
      type: object
      properties:
        result:
          type: array
          items:
            $ref: '#/components/schemas/PromotionEvent'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    ApiResponseContract:
      type: object
      properties:
        result:
          $ref: '#/components/schemas/Contract'
        errorCode:
          type: string
        message:
          type: object
        responseCode:
          type: integer
          format: int32
    Contract:
      type: object
      properties:
        id:
          type: string
        status:
          type: string
        type:
          type: string
        loanId:
          type: string
        idRequest:
          type: integer
          format: int32
        idDocument:
          type: integer
          format: int32
        path:
          type: string
        createdAt:
          type: string
  securitySchemes:
    Bearer:
      type: apiKey
      name: Authorization
      in: header
      scheme: bearer
      bearerFormat: JWT
