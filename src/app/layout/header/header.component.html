<header>
  <div class="container-fluid">
    <header>
      <!-- Top  Header  -->
      <div id="monex-op-header">
        <div class="header-container">
          <div class="container justify-content-center">
            <div
              id="monex-op-header-content"
              class="d-flex justify-content-between align-items-center"
            >
              <a
                href="javascript:void(0)"
                id="logo-monex-container"
                class="d-flex align-items-center"
              >
                <img [src]="logoSrc" alt="logo-monex" id="logo-monex"/>
                <span class="divider-monex-logo" *ngIf="!responsive">|</span>
                <span id="title-monex-op" *ngIf="!responsive">{{
                  "header.op" | translate
                  }}</span>
              </a>

              <div class="d-flex gap-3" *ngIf="showProfileBtn">
                <section *ngIf="!responsive">
                  <button class="header-nav-btn gap-1">
                    <span>{{ "header.notification" | translate }}</span>
                    <div class="sprite-group-5-notification-on-white"></div>
                  </button>
                </section>

                <section *ngIf="!responsive">
                  <button
                    #settingMenuTrigger="matMenuTrigger"
                    (click)="settingMenuTrigger.openMenu()"
                    [matMenuTriggerFor]="settingMenu"
                    class="header-nav-btn gap-1"
                  >
                    <span>{{ "header.setting" | translate }}</span>
                    <div class="sprite-group-5-setting-white"></div>
                  </button>

                  <!--Setting pop-up menu-->
                  <mat-menu #settingMenu="matMenu">
                    <span (mouseleave)="settingMenuTrigger.closeMenu()">
                      <button (click)="onClickManageUser()" class="gap-1" mat-menu-item>
                        <div class="d-flex gap-1 align-items-center">
                          <img src="assets/img/icon/group-7/svg/user-info.svg" alt="">
                          <span>{{ "header.mange_user" | translate }}</span>
                        </div>
                      </button>
                      <button class="gap-1" mat-menu-item>
                        <div class="d-flex gap-1 align-items-center">
                          <img src="assets/img/icon/group-7/svg/manage-user.svg" alt="">
                          <span>Setting Option</span>
                        </div>
                      </button>
                    </span>
                  </mat-menu>
                </section>

                <section>
                  <button
                    id="profile-btn"
                    [matMenuTriggerFor]="profileMenu"
                    #profileMenuTrigger="matMenuTrigger"
                    (click)="profileMenuTrigger.openMenu()"
                    class="p-0"
                  >
                    <div
                      class="
                        d-flex
                        flex-row
                        text-center
                        justify-content-between
                        align-items-center
                        gap-2
                      "
                    >
                      <div>
                        <p id="manager-name">{{ accountInfo.fullName }}</p>
                        <p id="manager-role" class="d-flex gap-1">
                          <span class="sprite-group-5-personal-roll"></span>
                          <span>{{ accountInfo.roleName }}</span>
                        </p>
                      </div>
                      <div class="avatar">{{ shortName }}</div>
                    </div>
                  </button>

                  <!--Profile-popup-->
                  <mat-menu #profileMenu="matMenu">
                    <span (mouseleave)="profileMenuTrigger.closeMenu()">
                      <button mat-menu-item class="gap-1" *ngIf="responsive">
                        <div class="d-flex gap-1 align-items-center">
                          <span>{{ "header.notification" | translate }}</span>
                          <div class="sprite-group-5-notification-on"></div>
                        </div>
                      </button>

                      <button mat-menu-item class="gap-1" *ngIf="responsive">
                        <div class="d-flex gap-1 align-items-center">
                          <span>{{ "header.setting" | translate }}</span>
                          <div class="sprite-group-5-setting"></div>
                        </div>
                      </button>

                      <button
                        (click)="openUpdateDialog()"
                        class="gap-1"
                        mat-menu-item
                      >
                        <div class="d-flex gap-1 align-items-center">
                          <svg
                            fill="none"
                            height="18"
                            viewBox="0 0 14 18"
                            width="14"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M11.7954 10.666C12.8305 10.666 13.6695 11.5051 13.6695 12.5401V13.3055C13.6695 13.7832 13.5201 14.2491 13.2423 14.6378C11.954 16.4406 9.85046 17.3337 7.00029 17.3337C4.14946 17.3337 2.04698 16.4402 0.761848 14.6366C0.485214 14.2483 0.336548 13.7834 0.336548 13.3067V12.5401C0.336548 11.5051 1.17559 10.666 2.21061 10.666H11.7954ZM7.00029 0.669922C9.30146 0.669922 11.167 2.53541 11.167 4.83659C11.167 7.13778 9.30146 9.00324 7.00029 9.00324C4.69907 9.00324 2.83359 7.13778 2.83359 4.83659C2.83359 2.53541 4.69907 0.669922 7.00029 0.669922Z"
                              fill="#8E8E93"
                            />
                          </svg>
                          <span>{{ "header.account" | translate }}</span>
                        </div>
                      </button>
                      <button (click)="logout()" mat-menu-item>
                        <div class="d-flex gap-1 align-items-center">
                          <svg
                            fill="none"
                            height="14"
                            viewBox="0 0 18 14"
                            width="18"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M8.99996 0.629058V1.16724L10.4544 1.16725C10.7704 1.16725 11.0317 1.40185 11.0735 1.70651L11.0794 1.79122L11.085 5.33392H9.83496L9.83038 2.41725L8.99996 2.41724L9.00038 6.17133L9.83496 6.17058L9.83579 6.16725H11.0866L11.0858 6.17058H15.2016L13.7663 4.73412C13.5445 4.51219 13.5243 4.16497 13.7059 3.92032L13.7665 3.85023C13.9884 3.62838 14.3355 3.60827 14.5802 3.78986L14.6503 3.85038L17.1475 6.34842C17.3691 6.57017 17.3895 6.917 17.2083 7.16158L17.1479 7.23175L14.6507 9.73458C14.407 9.97892 14.0112 9.97942 13.7669 9.73558C13.5447 9.514 13.5241 9.16675 13.7054 8.92192L13.7659 8.85175L15.1933 7.42058L9.00038 7.42133L8.99996 11.1681L9.84488 11.1684L9.83913 8.25058H11.09L11.096 11.7924C11.0965 12.1092 10.8612 12.3713 10.5558 12.4128L10.471 12.4184L8.99996 12.4181V13.0423C8.99996 13.4309 8.64896 13.7253 8.26629 13.6578L1.18292 12.4067C0.884301 12.3539 0.666626 12.0944 0.666626 11.7912V1.79225C0.666626 1.48616 0.888301 1.22511 1.19035 1.17551L8.27371 0.0123167C8.65421 -0.0501667 8.99996 0.24345 8.99996 0.629058ZM6.08508 6.58392C5.62386 6.58392 5.24996 6.95783 5.24996 7.419C5.24996 7.88025 5.62386 8.25417 6.08508 8.25417C6.54631 8.25417 6.92021 7.88025 6.92021 7.419C6.92021 6.95783 6.54631 6.58392 6.08508 6.58392Z"
                              fill="#8E8E93"
                            />
                          </svg>
                          <span>{{ "auth.logout" | translate }}</span>
                        </div>
                      </button>
                    </span>
                  </mat-menu>
                </section>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End: Top  Header  -->

      <!-- Top nav bar -->
      <div id="navigation-bar" *ngIf="showProfileBtn">
        <div class="container p-0">
          <!-- Menu Mobile  -->
          <mat-toolbar
            id="nav-toolbar-mobile"
            *ngIf="responsive; else desktopMenu"
          >
            <span class="fill-remaining-space">
              <button
                mat-icon-button
                [matMenuTriggerFor]="menuMobile"
                #menuTrigger="matMenuTrigger"
                (click)="menuTrigger.openMenu()"
              >
                <mat-icon>menu</mat-icon>
              </button>
              <mat-menu #menuMobile="matMenu" [overlapTrigger]="false">
                <span (mouseleave)="menuTrigger.closeMenu()">
                  <button
                    mat-menu-item
                    *ngFor="let menuItem of menuItems"
                    class="mobile-menu-item gap-2 d-flex align-items-center"
                    [ngClass]="{
                      active: selectedNavItem === menuItem.navItem
                    }"
                    [routerLink]="menuItem.path"
                    [queryParams]="menuItem.queryParams"
                  >
                    <span
                      [ngClass]="[
                        selectedNavItem === menuItem.navItem
                          ? menuItem.activeIconClass
                          : menuItem.defaultIconClass
                      ]"
                    ></span>
                    <span>{{ menuItem.title }}</span>
                  </button>
                </span>
              </mat-menu>
            </span>
            <span class="fill-remaining-space"></span>
          </mat-toolbar>
          <!-- End: Menu Mobile  -->

          <!-- Menu Desktop -->
          <ng-template #desktopMenu>
            <div id="op-top-navigation" class="justify-content-between">
              <ul class="nav m-auto gap-3">
                <li class="nav-item" *ngFor="let menuItem of menuItems">
                  <!--  Has sub items  -->
                  <div
                    *ngIf="
                      menuItem.subItems && menuItem.subItems.length > 0;
                      else hasNotSubItems
                    "
                  >
                    <a
                      [routerLink]="menuItem.path"
                      [queryParams]="menuItem.queryParams"
                      class="
                        nav-link
                        d-inline-flex
                        align-items-center
                        gap-1
                        op-nav-link
                      "
                      [ngClass]="{
                        active: selectedNavItem === menuItem.navItem
                      }"
                      [matMenuTriggerFor]="menuDesktop"
                      #subMenuTrigger="matMenuTrigger"
                      (mousemove)="subMenuTrigger.openMenu()"
                    >
                      <span
                        [ngClass]="[
                          selectedNavItem === menuItem.navItem
                            ? menuItem.activeIconClass
                            : menuItem.defaultIconClass
                        ]"
                      ></span>
                      <span>{{ menuItem.title }}</span>
                    </a>

                    <!-- Submenu-->
                    <mat-menu
                      #menuDesktop="matMenu"
                      [overlapTrigger]="false"
                      class="sub-menu-desktop"
                    >
                      <span (mouseleave)="subMenuTrigger.closeMenu()">
                        <button
                          mat-menu-item
                          *ngFor="let subItem of menuItem.subItems"
                          class="
                            sub-menu-desktop-item
                            gap-2
                            d-flex
                            align-items-center
                          "
                          [routerLink]="subItem.path"
                          [queryParams]="subItem.queryParams"
                        >
                          <span [ngClass]="subItem.iconClass"></span>
                          <span>{{ subItem.title }}</span>
                        </button>
                      </span>
                    </mat-menu>
                    <!--  End submenu -->
                  </div>
                  <!--  End: has sub items  -->

                  <!--  Hasnot sub items  -->
                  <ng-template #hasNotSubItems>
                    <a
                      [routerLink]="menuItem.path"
                      [queryParams]="menuItem.queryParams"
                      class="
                        nav-link
                        d-inline-flex
                        align-items-center
                        gap-1
                        op-nav-link
                      "
                      [ngClass]="{
                        active: selectedNavItem === menuItem.navItem
                      }"
                    >
                      <span
                        [ngClass]="[
                          selectedNavItem === menuItem.navItem
                            ? menuItem.activeIconClass
                            : menuItem.defaultIconClass
                        ]"
                      ></span>
                      <span>{{ menuItem.title }}</span>
                    </a>
                  </ng-template>
                  <!--  End: Hasnot sub items  -->
                </li>
              </ul>
            </div>
          </ng-template>
          <!-- End: Menu Desktop -->
        </div>
      </div>
      <!-- End: Top nav bar   -->
    </header>
  </div>
</header>
