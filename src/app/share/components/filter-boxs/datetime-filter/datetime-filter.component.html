<div class="filter-boxes pb-5">
  <div class="d-flex justify-content-between align-items-center px-3 py-2">
    <h3 class="filter-title">{{ filterOption.title }}</h3>
  </div>
  <div>
    <ul>
      <mat-radio-group
        aria-labelledby="example-radio-group-label"
        class="example-radio-group"
        [(ngModel)]="selectedTimeFilterMethod"
      >
        <li
          class="
            px-3
            py-2
            d-flex
            justify-content-between
            align-items-center
            filter-child-item
            cursor-pointer
          "
        >
          <mat-radio-button
            [value]="'TIME_FRAME'"
            color="primary"
            class="w-100"
            (click)="displayDetailOption(timeFrameMethodEle, 'TIME_FRAME')"
          >
            <div class="d-flex justify-content-between align-items-center">
              <p>{{ chosenTimeFrameMethod }}</p>
              <div
                class="
                  d-inline-flex
                  justify-content-between
                  align-items-center
                  gap-1
                "
              >
                <span
                  [ngClass]="
                    selectedTimeFilterMethod === 'TIME_FRAME'
                      ? 'sprite-group-5-chevron-right-blue'
                      : 'sprite-group-5-chevron-right-grey'
                  "
                ></span>
              </div>
            </div>
          </mat-radio-button>

          <div
            class="filter-form-container-expand"
            id="timeFrameMethodEle"
            (mouseleave)="timeFrameMethodEle.style.display = 'none'"
            #timeFrameMethodEle
          >
            <div class="arrow">
              <svg
                width="5"
                height="14"
                viewBox="0 0 5 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0.408408 6.05719L4.38739 2.25245C4.77964 1.87738 5 1.36867 5 0.838239V13.1618C5 12.6313 4.77964 12.1226 4.38739 11.7475L0.408409 7.94281C-0.136136 7.42211 -0.136137 6.57789 0.408408 6.05719Z"
                  fill="white"
                />
              </svg>
            </div>
            <div class="card op-card op-drop-shadow">
              <div class="card-title d-flex align-items-center gap-1">
                {{ "filter.time" | translate }}
              </div>
              <div class="card-body">
                <div class="all-time-filter-container d-flex flex-wrap gap-3">
                  <div
                    class="column-options"
                    *ngFor="let timeOption of timeFilterOptions"
                  >
                    <div class="thead">{{ timeOption.mainTitle }}</div>
                    <div
                      class="trow"
                      *ngFor="let ele of timeOption.options"
                      (click)="
                        chooseTimeFilter(
                          ele.startDate,
                          ele.endDate,
                          ele.title,
                          timeFrameMethodEle
                        )
                      "
                    >
                      {{ ele.title }}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </li>
        <li
          class="
            px-3
            py-2
            d-flex
            justify-content-between
            align-items-center
            filter-child-item
            cursor-pointer
          "
        >
          <mat-radio-button
            color="primary"
            [value]="'TIME_RANGE'"
            class="w-100"
            (click)="displayDetailOption(timeRangeMethodEle, 'TIME_RANGE')"
          >
            <div class="d-flex justify-content-between align-items-center">
              <p>
                {{ chosenTimeRangeMethod }}
              </p>

              <div
                class="
                  d-inline-flex
                  justify-content-between
                  align-items-center
                  gap-1
                "
              >
                <span
                  [ngClass]="
                    selectedTimeFilterMethod === 'TIME_RANGE'
                      ? 'sprite-group-5-chevron-right-blue'
                      : 'sprite-group-5-chevron-right-grey'
                  "
                ></span>
              </div></div
          ></mat-radio-button>
          <div
            class="filter-form-container-expand"
            id="timeRangeMethodEle"
            (mouseleave)="timeRangeMethodEle.style.display = 'none'"
            #timeRangeMethodEle
          >
            <div class="arrow">
              <svg
                width="5"
                height="14"
                viewBox="0 0 5 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0.408408 6.05719L4.38739 2.25245C4.77964 1.87738 5 1.36867 5 0.838239V13.1618C5 12.6313 4.77964 12.1226 4.38739 11.7475L0.408409 7.94281C-0.136136 7.42211 -0.136137 6.57789 0.408408 6.05719Z"
                  fill="white"
                />
              </svg>
            </div>

            <div class="card op-card op-drop-shadow">
              <div class="card-title d-flex align-items-center gap-1 mb-0">
                {{ "filter.choose_range_time" | translate }}
                <button
                  mat-button
                  class="reset-btn"
                  (click)="resetSelectedDate()"
                >
                  {{ "common.reset" | translate }}
                </button>
              </div>
              <div class="card-body p-0">
                <div class="d-flex">
                  <div class="datepicker-container">
                    <div class="description d-flex gap-1">
                      <span>{{ "filter.from_day" | translate }}</span>
                      <span class="selected-date" *ngIf="selectedStartDate">{{
                        "filter.selected_date"
                          | translate
                            : {
                                date: selectedStartDay,
                                day: selectedStartDateDisplay
                              }
                      }}</span>
                    </div>
                    <mat-card class="calendar-card">
                      <mat-calendar
                        [selected]="selectedStartDate"
                        [maxDate]="currentTime"
                        (selectedChange)="
                          onSelectStartDate($event, timeRangeMethodEle)
                        "
                      ></mat-calendar>
                    </mat-card>
                  </div>

                  <div class="datepicker-container">
                    <div class="description d-flex gap-1">
                      <span>{{ "filter.from_day" | translate }}</span>
                      <span class="selected-date" *ngIf="selectedEndDate">
                        {{
                          "filter.selected_date"
                            | translate
                              : {
                                  date: selectedEndDay,
                                  day: selectedEndDateDisplay
                                }
                        }}
                      </span>
                    </div>
                    <mat-card class="calendar-card">
                      <mat-calendar
                        [selected]="selectedEndDate"
                        [maxDate]="currentTime"
                        [minDate]="selectedStartDate"
                        (selectedChange)="
                          onSelectEndDate($event, timeRangeMethodEle)
                        "
                      ></mat-calendar>
                    </mat-card>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </li>
      </mat-radio-group>
    </ul>
  </div>
</div>
